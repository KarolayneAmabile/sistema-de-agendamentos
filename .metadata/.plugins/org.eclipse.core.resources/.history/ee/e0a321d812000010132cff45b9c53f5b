package models;

import java.time.LocalDate;
import java.util.ArrayList;
import java.util.Date;
import java.util.HashMap;
import java.util.LinkedList;
import java.util.List;
import java.util.Map;

public class Salon {

    private Map<Date, List<Appointment>> appointments;
    private List<SalonListener> listerners = new LinkedList<>();
    
    public Salon (String name) {
    	appointments = new HashMap<>();
    }
    
    
    public void addAppointment(Appointment appointment) {
    	if (!appointments.containsKey(appointment.getDate())) {
    		appointments.put(appointment.getDate(), new ArrayList<>());
        }
        appointments.get(date).add(appointment);
        notifyObservers();
    }
    // get
    public List<Appointment> getAppointmentsByDate(LocalDate date) {
        return appointmentsByDate.getOrDefault(date, new ArrayList<>());
    }
    
    public void addObserver(SalonObserver observer) {
    	this.observers.add(observer);
    }
    // precisa ser um objeto;..
    public void notifyObservers() {
    	for(SalonObserver observer : observers) {
    		(observers).update();
    	}
    }
}

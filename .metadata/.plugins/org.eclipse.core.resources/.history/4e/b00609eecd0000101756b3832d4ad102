package teste;

import java.math.BigDecimal;
import java.time.LocalDate;
import java.time.LocalTime;
import java.util.List;
import java.util.Map;

import exceptions.StrException;
import models.Appointment;
import models.Salon;
import models.Service;

public class oi {
	public static void main(String[] str) {
		Salon salon = new Salon();
		
		try {
			salon.addService(new Service(1, "Chapinha", new BigDecimal("50.0")));
		} catch (StrException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		try {
			salon.addService(new Service(2, "Escova", new BigDecimal("50.0")));
		} catch (StrException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		try {
			salon.addService(new Service(3, "Progressiva", new BigDecimal("50.0")));
		} catch (StrException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		salon.addAppointment(new Appointment(1, "Karol", LocalDate.of(2025, 3, 14), LocalTime.of(15, 30), salon.getService("Chapinha")));
		salon.addAppointment(new Appointment(1, "Ana", LocalDate.of(2025, 3, 14), LocalTime.of(15, 30), salon.getService("Chapinha")));
		salon.addAppointment(new Appointment(1, "Gustavo", LocalDate.of(2025, 3, 14), LocalTime.of(15, 30), salon.getService("Chapinha")));
		
		for (Map.Entry<LocalDate, List<Appointment>> entry : salon.getAppointments().entrySet()) {
		    LocalDate date = entry.getKey();
		    List<Appointment> appointmentList = entry.getValue();

		    System.out.println("Data: " + date);
		    
		    for (Appointment appointment : appointmentList) {
		        System.out.println("  - " + appointment.toString());
		    }
		}
		
		System.out.println(salon.getTotal());
	}
}
